{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.checkedListCommand = exports.orderedListCommand = exports.unorderedListCommand = exports.makeList = exports.insertBeforeEachLine = void 0;\n\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\n/**\n * Inserts insertionString before each line\n */\n\n\nfunction insertBeforeEachLine(selectedText, insertBefore) {\n  var lines = selectedText.split(/\\n/);\n  var insertionLength = 0;\n  var modifiedText = lines.map(function (item, index) {\n    if (typeof insertBefore === \"string\") {\n      insertionLength += insertBefore.length;\n      return insertBefore + item;\n    } else if (typeof insertBefore === \"function\") {\n      var insertionResult = insertBefore(item, index);\n      insertionLength += insertionResult.length;\n      return insertBefore(item, index) + item;\n    }\n\n    throw Error(\"insertion is expected to be either a string or a function\");\n  }).join(\"\\n\");\n  return {\n    modifiedText: modifiedText,\n    insertionLength: insertionLength\n  };\n}\n\nexports.insertBeforeEachLine = insertBeforeEachLine;\n\nvar makeList = function (state0, api, insertBefore) {\n  // Adjust the selection to encompass the whole word if the caret is inside one\n  var newSelectionRange = MarkdownUtil_1.selectWord({\n    text: state0.text,\n    selection: state0.selection\n  });\n  var state1 = api.setSelectionRange(newSelectionRange);\n  var breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(state1.text, state1.selection.start);\n  var breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n  var breaksAfterCount = MarkdownUtil_1.getBreaksNeededForEmptyLineAfter(state1.text, state1.selection.end);\n  var breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n  var modifiedText = insertBeforeEachLine(state1.selectedText, insertBefore);\n  api.replaceSelection(\"\" + breaksBefore + modifiedText.modifiedText + breaksAfter); // Specifically when the text has only one line, we can exclude the \"- \", for example, from the selection\n\n  var oneLinerOffset = state1.selectedText.indexOf(\"\\n\") === -1 ? modifiedText.insertionLength : 0;\n  var selectionStart = state1.selection.start + breaksBeforeCount + oneLinerOffset;\n  var selectionEnd = selectionStart + modifiedText.modifiedText.length - oneLinerOffset; // Adjust the selection to not contain the **\n\n  api.setSelectionRange({\n    start: selectionStart,\n    end: selectionEnd\n  });\n};\n\nexports.makeList = makeList;\nexports.unorderedListCommand = {\n  buttonProps: {\n    \"aria-label\": \"Add unordered list\"\n  },\n  execute: function (_a) {\n    var initialState = _a.initialState,\n        textApi = _a.textApi;\n    exports.makeList(initialState, textApi, \"- \");\n  }\n};\nexports.orderedListCommand = {\n  buttonProps: {\n    \"aria-label\": \"Add ordered list\"\n  },\n  execute: function (_a) {\n    var initialState = _a.initialState,\n        textApi = _a.textApi;\n    exports.makeList(initialState, textApi, function (item, index) {\n      return index + 1 + \". \";\n    });\n  }\n};\nexports.checkedListCommand = {\n  buttonProps: {\n    \"aria-label\": \"Add checked list\"\n  },\n  execute: function (_a) {\n    var initialState = _a.initialState,\n        textApi = _a.textApi;\n    exports.makeList(initialState, textApi, function (item, index) {\n      return \"- [ ] \";\n    });\n  }\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","checkedListCommand","orderedListCommand","unorderedListCommand","makeList","insertBeforeEachLine","MarkdownUtil_1","require","selectedText","insertBefore","lines","split","insertionLength","modifiedText","map","item","index","length","insertionResult","Error","join","state0","api","newSelectionRange","selectWord","text","selection","state1","setSelectionRange","breaksBeforeCount","getBreaksNeededForEmptyLineBefore","start","breaksBefore","Array","breaksAfterCount","getBreaksNeededForEmptyLineAfter","end","breaksAfter","replaceSelection","oneLinerOffset","indexOf","selectionStart","selectionEnd","buttonProps","execute","_a","initialState","textApi"],"sources":["C:/Users/thewi/Downloads/scrimba/notes/node_modules/react-mde/lib/js/commands/default-commands/listCommands.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkedListCommand = exports.orderedListCommand = exports.unorderedListCommand = exports.makeList = exports.insertBeforeEachLine = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\n/**\n * Inserts insertionString before each line\n */\nfunction insertBeforeEachLine(selectedText, insertBefore) {\n    var lines = selectedText.split(/\\n/);\n    var insertionLength = 0;\n    var modifiedText = lines\n        .map(function (item, index) {\n        if (typeof insertBefore === \"string\") {\n            insertionLength += insertBefore.length;\n            return insertBefore + item;\n        }\n        else if (typeof insertBefore === \"function\") {\n            var insertionResult = insertBefore(item, index);\n            insertionLength += insertionResult.length;\n            return insertBefore(item, index) + item;\n        }\n        throw Error(\"insertion is expected to be either a string or a function\");\n    })\n        .join(\"\\n\");\n    return { modifiedText: modifiedText, insertionLength: insertionLength };\n}\nexports.insertBeforeEachLine = insertBeforeEachLine;\nvar makeList = function (state0, api, insertBefore) {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    var newSelectionRange = MarkdownUtil_1.selectWord({\n        text: state0.text,\n        selection: state0.selection\n    });\n    var state1 = api.setSelectionRange(newSelectionRange);\n    var breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(state1.text, state1.selection.start);\n    var breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n    var breaksAfterCount = MarkdownUtil_1.getBreaksNeededForEmptyLineAfter(state1.text, state1.selection.end);\n    var breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n    var modifiedText = insertBeforeEachLine(state1.selectedText, insertBefore);\n    api.replaceSelection(\"\" + breaksBefore + modifiedText.modifiedText + breaksAfter);\n    // Specifically when the text has only one line, we can exclude the \"- \", for example, from the selection\n    var oneLinerOffset = state1.selectedText.indexOf(\"\\n\") === -1 ? modifiedText.insertionLength : 0;\n    var selectionStart = state1.selection.start + breaksBeforeCount + oneLinerOffset;\n    var selectionEnd = selectionStart + modifiedText.modifiedText.length - oneLinerOffset;\n    // Adjust the selection to not contain the **\n    api.setSelectionRange({\n        start: selectionStart,\n        end: selectionEnd\n    });\n};\nexports.makeList = makeList;\nexports.unorderedListCommand = {\n    buttonProps: { \"aria-label\": \"Add unordered list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, \"- \");\n    }\n};\nexports.orderedListCommand = {\n    buttonProps: { \"aria-label\": \"Add ordered list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, function (item, index) { return index + 1 + \". \"; });\n    }\n};\nexports.checkedListCommand = {\n    buttonProps: { \"aria-label\": \"Add checked list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, function (item, index) { return \"- [ ] \"; });\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}